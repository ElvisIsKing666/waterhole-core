System.register(["./stimulus-webpack-helpers-legacy.js"],(function(t,e){"use strict";var s;return{setters:[t=>{s=t.d}],execute:function(){const t=(t,e=0,s=1)=>t>s?s:t<e?e:t,e=(t,e=0,s=Math.pow(10,e))=>Math.round(s*t)/s,r=t=>("#"===t[0]&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?e(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:8===t.length?e(parseInt(t.substring(6,8),16)/255,2):1}),o=({h:t,s:s,v:r,a:o})=>{const i=(200-s)*r/100;return{h:e(t),s:e(i>0&&i<200?s*r/100/(i<=100?i:200-i)*100:0),l:e(i/2),a:e(o,2)}},i=t=>{const{h:e,s:s,l:r}=o(t);return`hsl(${e}, ${s}%, ${r}%)`},a=t=>{const{h:e,s:s,l:r,a:i}=o(t);return`hsla(${e}, ${s}%, ${r}%, ${i})`},n=({h:t,s:s,v:r,a:o})=>{t=t/360*6,s/=100,r/=100;const i=Math.floor(t),a=r*(1-s),n=r*(1-(t-i)*s),l=r*(1-(1-t+i)*s),h=i%6;return{r:e(255*[r,n,a,a,l,r][h]),g:e(255*[l,r,r,n,a,a][h]),b:e(255*[a,a,l,r,r,n][h]),a:e(o,2)}},l=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},h=({r:t,g:s,b:r,a:o})=>{const i=o<1?l(e(255*o)):"";return"#"+l(t)+l(s)+l(r)+i},c=({r:t,g:s,b:r,a:o})=>{const i=Math.max(t,s,r),a=i-Math.min(t,s,r),n=a?i===t?(s-r)/a:i===s?2+(r-t)/a:4+(t-s)/a:0;return{h:e(60*(n<0?n+6:n)),s:e(i?a/i*100:0),v:e(i/255*100),a:o}},d=(t,e)=>{if(t===e)return!0;for(const s in t)if(t[s]!==e[s])return!1;return!0},u={},p=t=>{let e=u[t];return e||(e=document.createElement("template"),e.innerHTML=t,u[t]=e),e},g=(t,e,s)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:s}))};let b=!1;const f=t=>"touches"in t,v=(e,s)=>{const r=f(s)?s.touches[0]:s,o=e.el.getBoundingClientRect();g(e.el,"move",e.getMove({x:t((r.pageX-(o.left+window.pageXOffset))/o.width),y:t((r.pageY-(o.top+window.pageYOffset))/o.height)}))};class x{constructor(t,e,s,r){const o=p(`<div role="slider" tabindex="0" part="${e}" ${s}><div part="${e}-pointer"></div></div>`);t.appendChild(o.content.cloneNode(!0));const i=t.querySelector(`[part=${e}]`);i.addEventListener("mousedown",this),i.addEventListener("touchstart",this),i.addEventListener("keydown",this),this.el=i,this.xy=r,this.nodes=[i.firstChild,i]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(b?"touchmove":"mousemove",this),e(b?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(t=>!(b&&!f(t)||(b||(b=f(t)),0)))(t)||!b&&0!=t.button)return;this.el.focus(),v(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),v(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((t,e)=>{const s=e.keyCode;s>40||t.xy&&s<37||s<33||(e.preventDefault(),g(t.el,"move",t.getMove({x:39===s?.01:37===s?-.01:34===s?.05:33===s?-.05:35===s?1:36===s?-1:0,y:40===s?.01:38===s?-.01:0},!0)))})(this,t)}}style(t){t.forEach(((t,e)=>{for(const s in t)this.nodes[e].style.setProperty(s,t[s])}))}}class m extends x{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:i({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${e(t)}`)}getMove(e,s){return{h:s?t(this.h+360*e.x,0,360):360*e.x}}}class y extends x{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:i(t)},{"background-color":i({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${e(t.s)}%, Brightness ${e(t.v)}%`)}getMove(e,s){return{s:s?t(this.hsva.s+100*e.x,0,100):100*e.x,v:s?t(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const w=Symbol("same"),$=Symbol("color"),k=Symbol("hsva"),E=Symbol("update"),S=Symbol("parts"),C=Symbol("css"),M=Symbol("sliders");class A extends HTMLElement{static get observedAttributes(){return["color"]}get[C](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[M](){return[y,m]}get color(){return this[$]}set color(t){if(!this[w](t)){const e=this.colorModel.toHsva(t);this[E](e),this[$]=t}}constructor(){super();const t=p(`<style>${this[C].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[S]=this[M].map((t=>new t(e)))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,s){const r=this.colorModel.fromAttr(s);this[w](r)||(this.color=r)}handleEvent(t){const e=this[k],s={...e,...t.detail};let r;this[E](s),d(s,e)||this[w](r=this.colorModel.fromHsva(s))||(this[$]=r,g(this,"color-changed",{value:r}))}[w](t){return this.color&&this.colorModel.equal(t,this.color)}[E](t){this[k]=t,this[S].forEach((e=>e.update(t)))}}class L extends x{constructor(t){super(t,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(t){this.hsva=t;const s=a({...t,a:0}),r=a({...t,a:1}),o=100*t.a;this.style([{left:`${o}%`,color:a(t)},{"--gradient":`linear-gradient(90deg, ${s}, ${r}`}]);const i=e(o);this.el.setAttribute("aria-valuenow",`${i}`),this.el.setAttribute("aria-valuetext",`${i}%`)}getMove(e,s){return{a:s?t(this.hsva.a+e.x):e.x}}}class H extends A{get[C](){return[...super[C],'[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\')}[part=alpha-pointer]{top:50%}']}get[M](){return[...super[M],L]}}const I={defaultColor:"#0001",toHsva:t=>c(r(t)),fromHsva:t=>h(n(t)),equal:(t,e)=>t.toLowerCase()===e.toLowerCase()||d(r(t),r(e)),fromAttr:t=>t};class q extends H{get colorModel(){return I}}customElements.define("hex-alpha-color-picker",class extends q{});const O=/^#?([0-9A-F]{3,8})$/i,P=(t,e)=>{const s=O.exec(t),r=s?s[1].length:0;return 3===r||6===r||!!e&&4===r||!!e&&8===r},z=p('<slot><input part="input" spellcheck="false"></slot>'),D=(t,e)=>t.replace(/([^0-9A-F]+)/gi,"").substring(0,e?8:6),N=Symbol("alpha"),T=Symbol("color"),j=Symbol("saved"),B=Symbol("input"),F=Symbol("init"),R=Symbol("prefix"),X=Symbol("update");class Y extends HTMLElement{static get observedAttributes(){return["alpha","color","prefixed"]}get color(){return this[T]}set color(t){this[T]=t,this[X](t)}get alpha(){return this[N]}set alpha(t){this[N]=t,this.toggleAttribute("alpha",t);const e=this.color;e&&!P(e,t)&&(this.color=e.startsWith("#")?e.substring(0,5===e.length?4:7):e.substring(0,4===e.length?3:6))}get prefixed(){return this[R]}set prefixed(t){this[R]=t,this.toggleAttribute("prefixed",t),this[X](this.color)}constructor(){super();const t=this.attachShadow({mode:"open"});t.appendChild(z.content.cloneNode(!0)),t.firstElementChild.addEventListener("slotchange",(()=>this[F](t)))}connectedCallback(){if(this[F](this.shadowRoot),this.hasOwnProperty("alpha")){const t=this.alpha;delete this.alpha,this.alpha=t}else this.alpha=this.hasAttribute("alpha");if(this.hasOwnProperty("prefixed")){const t=this.prefixed;delete this.prefixed,this.prefixed=t}else this.prefixed=this.hasAttribute("prefixed");if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else null==this.color?this.color=this.getAttribute("color")||"":this[T]&&this[X](this[T])}handleEvent(t){const e=t.target,{value:s}=e;switch(t.type){case"input":const t=D(s,this.alpha);this[j]=this.color,(P(t,this.alpha)||""===s)&&(this.color=t,this.dispatchEvent(new CustomEvent("color-changed",{bubbles:!0,detail:{value:t?"#"+t:""}})));break;case"blur":s&&!P(s,this.alpha)&&(this.color=this[j])}}attributeChangedCallback(t,e,s){"color"===t&&this.color!==s&&(this.color=s);const r=null!=s;"alpha"===t&&this.alpha!==r&&(this.alpha=r),"prefixed"===t&&this.prefixed!==r&&(this.prefixed=r)}[F](t){let e=this.querySelector("input");if(!e){let s;for(;s=this.firstChild;)s.remove();e=t.querySelector("input")}e.addEventListener("input",this),e.addEventListener("blur",this),this[B]=e,this[X](this.color)}[X](t){this[B]&&(this[B].value=null==t||""==t?"":(this.prefixed?"#":"")+D(t,this.alpha))}}customElements.define("hex-input",class extends Y{}),window.Stimulus.load(s(require.context("./controllers",!0,/\.ts$/)))}}}));
