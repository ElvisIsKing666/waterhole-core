import{d as R}from"./stimulus-webpack-helpers.js";function ut(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}const c=(o,t=0,e=1)=>o>e?e:o<t?t:o,i=(o,t=0,e=Math.pow(10,t))=>Math.round(e*o)/e,D=o=>Y(k(o)),k=o=>(o[0]==="#"&&(o=o.substring(1)),o.length<6?{r:parseInt(o[0]+o[0],16),g:parseInt(o[1]+o[1],16),b:parseInt(o[2]+o[2],16),a:o.length===4?i(parseInt(o[3]+o[3],16)/255,2):1}:{r:parseInt(o.substring(0,2),16),g:parseInt(o.substring(2,4),16),b:parseInt(o.substring(4,6),16),a:o.length===8?i(parseInt(o.substring(6,8),16)/255,2):1}),N=o=>X(j(o)),z=({h:o,s:t,v:e,a:s})=>{const r=(200-t)*e/100;return{h:i(o),s:i(r>0&&r<200?t*e/100/(r<=100?r:200-r)*100:0),l:i(r/2),a:i(s,2)}},S=o=>{const{h:t,s:e,l:s}=z(o);return"hsl(".concat(t,", ").concat(e,"%, ").concat(s,"%)")},x=o=>{const{h:t,s:e,l:s,a:r}=z(o);return"hsla(".concat(t,", ").concat(e,"%, ").concat(s,"%, ").concat(r,")")},j=({h:o,s:t,v:e,a:s})=>{o=o/360*6,t=t/100,e=e/100;const r=Math.floor(o),a=e*(1-t),n=e*(1-(o-r)*t),b=e*(1-(1-o+r)*t),m=r%6;return{r:i([e,n,a,a,b,e][m]*255),g:i([b,e,e,n,a,a][m]*255),b:i([a,a,b,e,e,n][m]*255),a:i(s,2)}},u=o=>{const t=o.toString(16);return t.length<2?"0"+t:t},X=({r:o,g:t,b:e,a:s})=>{const r=s<1?u(i(s*255)):"";return"#"+u(o)+u(t)+u(e)+r},Y=({r:o,g:t,b:e,a:s})=>{const r=Math.max(o,t,e),a=r-Math.min(o,t,e),n=a?r===o?(t-e)/a:r===t?2+(e-o)/a:4+(o-t)/a:0;return{h:i(60*(n<0?n+6:n)),s:i(r?a/r*100:0),v:i(r/255*100),a:s}},F=(o,t)=>{if(o===t)return!0;for(const e in o)if(o[e]!==t[e])return!1;return!0},V=(o,t)=>o.toLowerCase()===t.toLowerCase()?!0:F(k(o),k(t)),T={},E=o=>{let t=T[o];return t||(t=document.createElement("template"),t.innerHTML=o,T[o]=t),t},M=(o,t,e)=>{o.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e}))};let l=!1;const H=o=>"touches"in o,W=o=>l&&!H(o)?!1:(l||(l=H(o)),!0),L=(o,t)=>{const e=H(t)?t.touches[0]:t,s=o.el.getBoundingClientRect();M(o.el,"move",o.getMove({x:c((e.pageX-(s.left+window.pageXOffset))/s.width),y:c((e.pageY-(s.top+window.pageYOffset))/s.height)}))},G=(o,t)=>{const e=t.keyCode;e>40||o.xy&&e<37||e<33||(t.preventDefault(),M(o.el,"move",o.getMove({x:e===39?.01:e===37?-.01:e===34?.05:e===33?-.05:e===35?1:e===36?-1:0,y:e===40?.01:e===38?-.01:0},!0)))};class A{constructor(t,e,s,r){const a=E('<div role="slider" tabindex="0" part="'.concat(e,'" ').concat(s,'><div part="').concat(e,'-pointer"></div></div>'));t.appendChild(a.content.cloneNode(!0));const n=t.querySelector("[part=".concat(e,"]"));n.addEventListener("mousedown",this),n.addEventListener("touchstart",this),n.addEventListener("keydown",this),this.el=n,this.xy=r,this.nodes=[n.firstChild,n]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(l?"touchmove":"mousemove",this),e(l?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!W(t)||!l&&t.button!=0)return;this.el.focus(),L(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),L(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":G(this,t);break}}style(t){t.forEach((e,s)=>{for(const r in e)this.nodes[s].style.setProperty(r,e[r])})}}class J extends A{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:"".concat(t/360*100,"%"),color:S({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow","".concat(i(t)))}getMove(t,e){return{h:e?c(this.h+t.x*360,0,360):360*t.x}}}class K extends A{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:"".concat(100-t.v,"%"),left:"".concat(t.s,"%"),color:S(t)},{"background-color":S({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext","Saturation ".concat(i(t.s),"%, Brightness ").concat(i(t.v),"%"))}getMove(t,e){return{s:e?c(this.hsva.s+t.x*100,0,100):t.x*100,v:e?c(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}}const Q=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',U="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",Z="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",d=Symbol("same"),v=Symbol("color"),I=Symbol("hsva"),y=Symbol("update"),q=Symbol("parts"),f=Symbol("css"),g=Symbol("sliders");class tt extends HTMLElement{static get observedAttributes(){return["color"]}get[f](){return[Q,U,Z]}get[g](){return[K,J]}get color(){return this[v]}set color(t){if(!this[d](t)){const e=this.colorModel.toHsva(t);this[y](e),this[v]=t}}constructor(){super();const t=E("<style>".concat(this[f].join(""),"</style>")),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[q]=this[g].map(s=>new s(e))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,s){const r=this.colorModel.fromAttr(s);this[d](r)||(this.color=r)}handleEvent(t){const e=this[I],s={...e,...t.detail};this[y](s);let r;!F(s,e)&&!this[d](r=this.colorModel.fromHsva(s))&&(this[v]=r,M(this,"color-changed",{value:r}))}[d](t){return this.color&&this.colorModel.equal(t,this.color)}[y](t){this[I]=t,this[q].forEach(e=>e.update(t))}}class et extends A{constructor(t){super(t,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(t){this.hsva=t;const e=x({...t,a:0}),s=x({...t,a:1}),r=t.a*100;this.style([{left:"".concat(r,"%"),color:x(t)},{"--gradient":"linear-gradient(90deg, ".concat(e,", ").concat(s)}]);const a=i(r);this.el.setAttribute("aria-valuenow","".concat(a)),this.el.setAttribute("aria-valuetext","".concat(a,"%"))}getMove(t,e){return{a:e?c(this.hsva.a+t.x):t.x}}}const ot='[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\')}[part=alpha-pointer]{top:50%}';class st extends tt{get[f](){return[...super[f],ot]}get[g](){return[...super[g],et]}}const rt={defaultColor:"#0001",toHsva:D,fromHsva:N,equal:V,fromAttr:o=>o};class it extends st{get colorModel(){return rt}}class at extends it{}customElements.define("hex-alpha-color-picker",at);const nt=/^#?([0-9A-F]{3,8})$/i,w=(o,t)=>{const e=nt.exec(o),s=e?e[1].length:0;return s===3||s===6||!!t&&s===4||!!t&&s===8},lt=E('<slot><input part="input" spellcheck="false"></slot>'),P=(o,t)=>o.replace(/([^0-9A-F]+)/gi,"").substring(0,t?8:6),O=Symbol("alpha"),p=Symbol("color"),_=Symbol("saved"),$=Symbol("input"),C=Symbol("init"),B=Symbol("prefix"),h=Symbol("update");class ct extends HTMLElement{static get observedAttributes(){return["alpha","color","prefixed"]}get color(){return this[p]}set color(t){this[p]=t,this[h](t)}get alpha(){return this[O]}set alpha(t){this[O]=t,this.toggleAttribute("alpha",t);const e=this.color;e&&!w(e,t)&&(this.color=e.startsWith("#")?e.substring(0,e.length===5?4:7):e.substring(0,e.length===4?3:6))}get prefixed(){return this[B]}set prefixed(t){this[B]=t,this.toggleAttribute("prefixed",t),this[h](this.color)}constructor(){super();const t=this.attachShadow({mode:"open"});t.appendChild(lt.content.cloneNode(!0)),t.firstElementChild.addEventListener("slotchange",()=>this[C](t))}connectedCallback(){if(this[C](this.shadowRoot),this.hasOwnProperty("alpha")){const t=this.alpha;delete this.alpha,this.alpha=t}else this.alpha=this.hasAttribute("alpha");if(this.hasOwnProperty("prefixed")){const t=this.prefixed;delete this.prefixed,this.prefixed=t}else this.prefixed=this.hasAttribute("prefixed");if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color==null?this.color=this.getAttribute("color")||"":this[p]&&this[h](this[p])}handleEvent(t){const e=t.target,{value:s}=e;switch(t.type){case"input":const r=P(s,this.alpha);this[_]=this.color,(w(r,this.alpha)||s==="")&&(this.color=r,this.dispatchEvent(new CustomEvent("color-changed",{bubbles:!0,detail:{value:r?"#"+r:""}})));break;case"blur":s&&!w(s,this.alpha)&&(this.color=this[_])}}attributeChangedCallback(t,e,s){t==="color"&&this.color!==s&&(this.color=s);const r=s!=null;t==="alpha"&&this.alpha!==r&&(this.alpha=r),t==="prefixed"&&this.prefixed!==r&&(this.prefixed=r)}[C](t){let e=this.querySelector("input");if(!e){let s;for(;s=this.firstChild;)s.remove();e=t.querySelector("input")}e.addEventListener("input",this),e.addEventListener("blur",this),this[$]=e,this[h](this.color)}[h](t){this[$]&&(this[$].value=t==null||t==""?"":(this.prefixed?"#":"")+P(t,this.alpha))}}class ht extends ct{}customElements.define("hex-input",ht);window.Stimulus.load(R(require.context("./controllers",!0,/\.ts$/)));export{ut as __vite_legacy_guard};
